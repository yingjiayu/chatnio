import{c as D,r as c,j as a,n as q,c9 as Ma,C as qa,ca as Pa,cb as oa,u as _,bj as A,d as E,m as ea,cc as ma,cd as ua,ce as xa,bh as pa,bi as ha,L as sa,B as y,aQ as na,aX as H,bE as ja,aY as B,aZ as U,a_ as Q,a$ as G,I as L,b0 as K,X as ga,cf as Na,cg as wa,i as Ta,bx as Da,b as _a,ch as La,b1 as S,b2 as O,ci as F,c7 as I,bv as Va,bw as Ea,by as za,cj as C,ck as Fa,a0 as Ia,cl as Aa,a3 as Ha,J as X,K as Y,O as W,P as R,aJ as da}from"./index.9642abf5.js";import{T as ta,a as ia,b as V,e as d,d as ca,c as r}from"./table.3bc0dcc0.js";import{f as Ba,h as Ua,i as Qa,u as Ga,j as Ka,q as ra,s as $a,k as Za,r as Ja,l as Xa,m as Ya,n as Wa,o as Ra,p as ae,t as ee}from"./chart.489b42a4.js";import{O as va}from"./OperationAction.37161161.js";import"./popover.305b8e8e.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=D("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=D("CalendarOff",[["path",{d:"M4.18 4.18A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"1feomx"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=D("CloudFog",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=D("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=D("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=D("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=D("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=D("ShieldMinus",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M8 11h8",key:"vwpz6n"}]]),ya=({className:e,...s})=>a.jsx("nav",{role:"navigation","aria-label":"pagination",className:q("mx-auto flex w-full justify-center",e),...s});ya.displayName="Pagination";const ba=c.forwardRef(({className:e,...s},n)=>a.jsx("ul",{ref:n,className:q("flex flex-row items-center gap-1",e),...s}));ba.displayName="PaginationContent";const k=c.forwardRef(({className:e,...s},n)=>a.jsx("li",{ref:n,className:q("cursor-pointer select-none",e),...s}));k.displayName="PaginationItem";const T=({className:e,isActive:s,size:n="icon",...m})=>a.jsx("a",{"aria-current":s?"page":void 0,className:q(Ma({variant:s?"outline":"ghost",size:n}),e),...m});T.displayName="PaginationLink";const Ca=({className:e,...s})=>a.jsx(T,{"aria-label":"Go to previous page",size:"icon",className:q("gap-1",e),...s,children:a.jsx(qa,{className:"h-4 w-4"})});Ca.displayName="PaginationPrevious";const fa=({className:e,...s})=>a.jsx(T,{"aria-label":"Go to next page",size:"icon",className:q("gap-1",e),...s,children:a.jsx(Pa,{className:"h-4 w-4"})});fa.displayName="PaginationNext";const aa=({className:e,...s})=>a.jsx("span",{"aria-hidden":!0,className:q("flex h-9 w-9 items-center justify-center",e),...s,children:a.jsx(oa,{className:"h-4 w-4"})});aa.displayName="PaginationEllipsis";const $=({current:e,total:s,offset:n=!1,className:m,onPageChange:l,children:j,...u})=>{const h=e+(n?1:0),o=s-h,t=e>0,p=o>=1,i=e>1&&!p,b=o>=2&&!t,f=o>2,P=h>2&&!f;return a.jsx(ya,{className:q("py-4",m),...u,children:a.jsxs(ba,{children:[a.jsx(k,{onClick:()=>t&&l(e-1),children:a.jsx(Ca,{})}),P&&a.jsx(k,{children:a.jsx(aa,{})}),i&&a.jsx(k,{onClick:()=>l(e-2),children:a.jsx(T,{children:h-2})}),t&&a.jsx(k,{onClick:()=>l(e-1),children:a.jsx(T,{children:h-1})}),a.jsx(k,{children:a.jsx(T,{isActive:!0,children:h})}),p&&a.jsx(k,{onClick:()=>l(e+1),children:a.jsx(T,{children:h+1})}),b&&a.jsx(k,{onClick:()=>l(e+2),children:a.jsx(T,{children:h+2})}),f&&a.jsx(k,{children:a.jsx(aa,{})}),a.jsx(k,{onClick:()=>p&&l(e+1),children:a.jsx(fa,{})})]})})};$.displayName="PaginationAction";function ka({state:e}){const{t:s}=_();return a.jsx(A,{variant:"outline",children:s(`admin.used-${e}`)})}function oe({update:e}){const{t:s}=_(),{toast:n}=E(),[m,l]=c.useState(!1),[j,u]=c.useState(""),[h,o]=c.useState("5"),[t,p]=c.useState("1"),[i,b]=c.useState("");function f(N){return N.replace(/[^\d.]/g,"")}async function P(){const N=await Qa(j,Number(h),Number(t));N.status?(b(N.data.join(`
`)),e()):n({title:s("admin.error"),description:N.message})}function g(){u(""),o("5"),p("1"),l(!1),b("")}function z(){return wa("invitation.txt",i)}return a.jsxs(a.Fragment,{children:[a.jsxs(H,{open:m,onOpenChange:l,children:[a.jsx(ja,{asChild:!0,children:a.jsx(y,{children:s("admin.generate")})}),a.jsxs(B,{children:[a.jsxs(U,{children:[a.jsx(Q,{children:s("admin.generate")}),a.jsxs(G,{className:"pt-2",children:[a.jsxs("div",{className:"invitation-row",children:[a.jsx("p",{className:"mr-4",children:s("admin.type")}),a.jsx(L,{value:j,onChange:N=>u(N.target.value)})]}),a.jsxs("div",{className:"invitation-row",children:[a.jsx("p",{className:"mr-4",children:s("admin.quota")}),a.jsx(L,{value:h,onChange:N=>o(f(N.target.value))})]}),a.jsxs("div",{className:"invitation-row",children:[a.jsx("p",{className:"mr-4",children:s("admin.number")}),a.jsx(L,{value:t,onChange:N=>p(f(N.target.value))})]})]})]}),a.jsxs(K,{children:[a.jsx(y,{variant:"outline",onClick:()=>l(!1),children:s("admin.cancel")}),a.jsx(y,{variant:"default",loading:!0,onClick:P,children:s("admin.confirm")})]})]})]}),a.jsx(H,{open:i!=="",onOpenChange:N=>{N||g()},children:a.jsxs(B,{children:[a.jsxs(U,{children:[a.jsx(Q,{children:s("admin.generate-result")}),a.jsx(G,{className:"pt-4",children:a.jsx(ga,{value:i,rows:12,readOnly:!0})})]}),a.jsxs(K,{children:[a.jsx(y,{variant:"outline",onClick:g,children:s("close")}),a.jsxs(y,{variant:"default",onClick:z,children:[a.jsx(Na,{className:"h-4 w-4 mr-2"}),s("download")]})]})]})})]})}function me(){const{t:e}=_(),{toast:s}=E(),[n,m]=c.useState({total:0,data:[]}),[l,j]=c.useState(!1),[u,h]=c.useState(0);async function o(){j(!0);const t=await Ua(u);j(!1),t.status?m(t):s({title:e("admin.error"),description:t.message})}return ea(o,[u]),a.jsxs("div",{className:"invitation-table",children:[n.data&&n.data.length>0||u>0?a.jsxs(a.Fragment,{children:[a.jsxs(ta,{children:[a.jsx(ia,{children:a.jsxs(V,{className:"select-none whitespace-nowrap",children:[a.jsx(d,{children:e("admin.invitation-code")}),a.jsx(d,{children:e("admin.quota")}),a.jsx(d,{children:e("admin.type")}),a.jsx(d,{children:e("admin.used")}),a.jsx(d,{children:e("admin.used-username")}),a.jsx(d,{children:e("admin.created-at")}),a.jsx(d,{children:e("admin.used-at")}),a.jsx(d,{children:e("admin.action")})]})}),a.jsx(ca,{children:(n.data||[]).map((t,p)=>a.jsxs(V,{className:"whitespace-nowrap",children:[a.jsx(r,{children:t.code}),a.jsx(r,{children:a.jsx(A,{variant:"outline",children:t.quota})}),a.jsx(r,{children:a.jsx(A,{children:t.type})}),a.jsx(r,{children:a.jsx(ka,{state:t.used})}),a.jsx(r,{children:t.username||"-"}),a.jsx(r,{children:t.created_at}),a.jsx(r,{children:t.updated_at}),a.jsxs(r,{className:"flex gap-2",children:[a.jsx(ma,{size:"icon",variant:"outline",onClick:()=>ua(t.code),children:a.jsx(xa,{className:"h-4 w-4"})}),a.jsx(va,{native:!0,tooltip:e("delete"),variant:"destructive",onClick:async()=>{const i=await Ba(t.code);pa(s,e,i,!0),i.status&&await o()},children:a.jsx(ha,{className:"h-4 w-4"})})]})]},p))})]}),a.jsx($,{current:u,total:n.total,onPageChange:h,offset:!0})]}):a.jsx("div",{className:"empty",children:l?a.jsx(sa,{className:"w-6 h-6 inline-block animate-spin"}):a.jsx("p",{children:e("admin.empty")})}),a.jsxs("div",{className:"invitation-action",children:[a.jsx("div",{className:"grow"}),a.jsx(y,{variant:"outline",size:"icon",onClick:o,children:a.jsx(na,{className:"h-4 w-4"})}),a.jsx(oe,{update:o})]})]})}const ue=["normal","basic_plan","standard_plan","pro_plan"];function M(e,s,n){n.status?s({title:e("admin.operate-success"),description:e("admin.operate-success-prompt")}):s({title:e("admin.operate-failed"),description:e("admin.operate-failed-prompt",{reason:n.message||n.error})})}function xe({user:e,onRefresh:s}){const{t:n}=_(),{toast:m}=E(),l=_a(La),[j,u]=c.useState(!1),[h,o]=c.useState(!1),[t,p]=c.useState(!1),[i,b]=c.useState(!1),[f,P]=c.useState(!1),[g,z]=c.useState(!1),[N,la]=c.useState(!1),[Sa,Z]=c.useState(!1),[Oa,J]=c.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsx(S,{destructive:!0,type:O.Text,title:n("admin.password-action"),name:n("auth.password"),description:n("admin.password-action-desc"),open:j,setOpen:u,defaultValue:"",onSubmit:async x=>{const w=await Ga(e.id,x);return M(n,m,w),w.status&&(l===e.username&&location.reload(),s==null||s()),w.status}}),a.jsx(S,{destructive:!0,type:O.Text,title:n("admin.email-action"),name:n("admin.email"),description:n("admin.email-action-desc"),open:h,setOpen:o,defaultValue:e.email,onSubmit:async x=>{const w=await Ka(e.id,x);return M(n,m,w),w.status&&(s==null||s()),w.status}}),a.jsx(S,{type:O.Number,title:n("admin.quota-action"),name:n("admin.quota"),description:n("admin.quota-action-desc"),defaultValue:"0",onValueChange:F,open:t,setOpen:p,componentProps:{acceptNegative:!0},onSubmit:async x=>{const w=I(x),v=await ra(e.id,w);return M(n,m,v),v.status&&(s==null||s()),v.status}}),a.jsx(S,{type:O.Number,title:n("admin.quota-set-action"),name:n("admin.quota"),description:n("admin.quota-set-action-desc"),defaultValue:e.quota.toFixed(2),onValueChange:F,open:i,setOpen:b,componentProps:{acceptNegative:!0},onSubmit:async x=>{const w=I(x),v=await ra(e.id,w,!0);return M(n,m,v),v.status&&(s==null||s()),v.status}}),a.jsx(S,{type:O.Number,title:n("admin.subscription-action"),name:n("admin.month"),description:n("admin.subscription-action-desc"),defaultValue:"0",onValueChange:F,open:f,setOpen:P,onSubmit:async x=>{const w=I(x),v=await $a(e.id,w);return M(n,m,v),v.status&&(s==null||s()),v.status}}),a.jsx(S,{type:O.Number,title:n("admin.subscription-level"),name:n("admin.level"),description:n("admin.subscription-level-desc"),defaultValue:e.level.toString(),onValueChange:F,open:g,setOpen:z,onSubmit:async x=>{const w=I(x),v=await Za(e.id,w);return M(n,m,v),v.status&&(s==null||s()),v.status}}),a.jsx(S,{type:O.Empty,title:n("admin.release-subscription-action"),name:n("admin.release-subscription"),description:n("admin.release-subscription-action-desc"),open:N,setOpen:la,onSubmit:async()=>{const x=await Ja(e.id);return M(n,m,x),x.status&&(s==null||s()),x.status}}),a.jsx(S,{disabled:l===e.username,destructive:!0,type:O.Empty,title:e.is_banned?n("admin.unban-action"):n("admin.ban-action"),description:e.is_banned?n("admin.unban-action-desc"):n("admin.ban-action-desc"),open:Sa,setOpen:Z,onSubmit:async()=>{const x=await Xa(e.id,!e.is_banned);return M(n,m,x),x.status&&(s==null||s()),x.status}}),a.jsx(S,{disabled:l===e.username,destructive:!0,type:O.Empty,title:e.is_admin?n("admin.cancel-admin-action"):n("admin.set-admin-action"),description:e.is_admin?n("admin.cancel-admin-action-desc"):n("admin.set-admin-action-desc"),open:Oa,setOpen:J,onSubmit:async()=>{const x=await Ya(e.id,!e.is_admin);return M(n,m,x),x.status&&(s==null||s()),x.status}}),a.jsxs(Va,{children:[a.jsx(Ea,{asChild:!0,children:a.jsx(y,{variant:"outline",size:"icon",children:a.jsx(oa,{className:"h-4 w-4"})})}),a.jsxs(za,{className:"min-w-[8.75rem]",children:[a.jsxs(C,{onClick:()=>u(!0),children:[a.jsx(ie,{className:"h-4 w-4 mr-2"}),n("admin.password-action")]}),a.jsxs(C,{onClick:()=>o(!0),children:[a.jsx(ce,{className:"h-4 w-4 mr-2"}),n("admin.email-action")]}),e.is_banned?a.jsxs(C,{onClick:()=>Z(!0),children:[a.jsx(de,{className:"h-4 w-4 mr-2"}),n("admin.unban-action")]}):a.jsxs(C,{onClick:()=>Z(!0),children:[a.jsx(le,{className:"h-4 w-4 mr-2"}),n("admin.ban-action")]}),e.is_admin?a.jsxs(C,{onClick:()=>J(!0),children:[a.jsx(re,{className:"h-4 w-4 mr-2"}),n("admin.cancel-admin-action")]}):a.jsxs(C,{onClick:()=>J(!0),children:[a.jsx(Fa,{className:"h-4 w-4 mr-2"}),n("admin.set-admin-action")]}),a.jsxs(C,{onClick:()=>p(!0),children:[a.jsx(te,{className:"h-4 w-4 mr-2"}),n("admin.quota-action")]}),a.jsxs(C,{onClick:()=>b(!0),children:[a.jsx(Ia,{className:"h-4 w-4 mr-2"}),n("admin.quota-set-action")]}),a.jsxs(C,{onClick:()=>P(!0),children:[a.jsx(se,{className:"h-4 w-4 mr-2"}),n("admin.subscription-action")]}),a.jsxs(C,{onClick:()=>la(!0),children:[a.jsx(ne,{className:"h-4 w-4 mr-2"}),n("admin.release-subscription-action")]}),a.jsxs(C,{onClick:()=>z(!0),children:[a.jsx(Aa,{className:"h-4 w-4 mr-2"}),n("admin.subscription-level")]})]})]})]})}function pe(){const{t:e}=_(),{toast:s}=E(),[n,m]=c.useState({total:0,data:[]}),[l,j]=c.useState(0),[u,h]=c.useState(""),[o,t]=c.useState(!1);async function p(){t(!0);const i=await Wa(l,u);t(!1),i.status?m(i):s({title:e("admin.error"),description:i.message})}return ea(p,[l]),a.jsxs("div",{className:"user-table",children:[a.jsxs("div",{className:"flex flex-row mb-6",children:[a.jsx(L,{className:"search",placeholder:e("admin.search-username"),value:u,onChange:i=>h(i.target.value),onKeyDown:async i=>{Ta(i)&&await p()}}),a.jsx(y,{size:"icon",className:"flex-shrink-0 ml-2",onClick:p,children:a.jsx(Da,{className:"h-4 w-4"})})]}),n.data&&n.data.length>0||l>0?a.jsxs(a.Fragment,{children:[a.jsxs(ta,{children:[a.jsx(ia,{children:a.jsxs(V,{className:"select-none whitespace-nowrap",children:[a.jsx(d,{children:"ID"}),a.jsx(d,{children:e("admin.username")}),a.jsx(d,{children:e("admin.email")}),a.jsx(d,{children:e("admin.quota")}),a.jsx(d,{children:e("admin.used-quota")}),a.jsx(d,{children:e("admin.is-subscribed")}),a.jsx(d,{children:e("admin.level")}),a.jsx(d,{children:e("admin.total-month")}),a.jsx(d,{children:e("admin.is-banned")}),a.jsx(d,{children:e("admin.is-admin")}),a.jsx(d,{children:e("admin.action")})]})}),a.jsx(ca,{children:(n.data||[]).map((i,b)=>a.jsxs(V,{children:[a.jsx(r,{children:i.id}),a.jsx(r,{className:"whitespace-nowrap",children:i.username}),a.jsx(r,{className:"whitespace-nowrap",children:i.email||"-"}),a.jsx(r,{children:i.quota}),a.jsx(r,{children:i.used_quota}),a.jsx(r,{children:e(i.is_subscribed.toString())}),a.jsx(r,{className:"whitespace-nowrap",children:e(`admin.identity.${ue[i.level]}`)}),a.jsx(r,{children:i.total_month}),a.jsx(r,{children:e(i.is_banned.toString())}),a.jsx(r,{children:e(i.is_admin.toString())}),a.jsx(r,{children:a.jsx(xe,{user:i,onRefresh:p})})]},b))})]}),a.jsx($,{current:l,total:n.total,onPageChange:j,offset:!0})]}):o?a.jsx("div",{className:"flex flex-col mb-4 mt-12 items-center",children:a.jsx(sa,{className:"w-6 h-6 inline-block animate-spin"})}):a.jsx("div",{className:"empty",children:a.jsx("p",{children:e("admin.empty")})}),a.jsxs("div",{className:"user-action",children:[a.jsx("div",{className:"grow"}),a.jsx(y,{variant:"outline",size:"icon",onClick:p,children:a.jsx(na,{className:"h-4 w-4"})})]})]})}function he({update:e}){const{t:s}=_(),{toast:n}=E(),[m,l]=c.useState(!1),[j,u]=c.useState("5"),[h,o]=c.useState("1"),[t,p]=c.useState("");function i(g){return g.replace(/[^\d.]/g,"")}async function b(){const g=await ee(Number(j),Number(h));g.status?(p(g.data.join(`
`)),e()):n({title:s("admin.error"),description:g.message})}function f(){u("5"),o("1"),l(!1),p("")}function P(){return wa("code.txt",t)}return a.jsxs(a.Fragment,{children:[a.jsxs(H,{open:m,onOpenChange:l,children:[a.jsx(ja,{asChild:!0,children:a.jsx(y,{children:s("admin.generate")})}),a.jsxs(B,{children:[a.jsxs(U,{children:[a.jsx(Q,{children:s("admin.generate")}),a.jsxs(G,{className:"pt-2",children:[a.jsxs("div",{className:"redeem-row",children:[a.jsx("p",{className:"mr-4",children:s("admin.quota")}),a.jsx(L,{value:j,onChange:g=>u(i(g.target.value))})]}),a.jsxs("div",{className:"redeem-row",children:[a.jsx("p",{className:"mr-4",children:s("admin.number")}),a.jsx(L,{value:h,onChange:g=>o(i(g.target.value))})]})]})]}),a.jsxs(K,{children:[a.jsx(y,{variant:"outline",onClick:()=>l(!1),children:s("admin.cancel")}),a.jsx(y,{variant:"default",loading:!0,onClick:b,children:s("admin.confirm")})]})]})]}),a.jsx(H,{open:t!=="",onOpenChange:g=>{g||f()},children:a.jsxs(B,{children:[a.jsxs(U,{children:[a.jsx(Q,{children:s("admin.generate-result")}),a.jsx(G,{className:"pt-4",children:a.jsx(ga,{value:t,rows:12,readOnly:!0})})]}),a.jsxs(K,{children:[a.jsx(y,{variant:"outline",onClick:f,children:s("close")}),a.jsxs(y,{variant:"default",onClick:P,children:[a.jsx(Na,{className:"h-4 w-4 mr-2"}),s("download")]})]})]})})]})}function je(){const{t:e}=_(),{toast:s}=E(),[n,m]=c.useState({total:0,data:[]}),[l,j]=c.useState(!1),[u,h]=c.useState(0);async function o(){j(!0);const t=await ae(u);j(!1),t.status?m(t):s({title:e("admin.error"),description:t.message})}return ea(o,[u]),a.jsxs("div",{className:"redeem-table",children:[n.data&&n.data.length>0||u>0?a.jsxs(a.Fragment,{children:[a.jsxs(ta,{children:[a.jsx(ia,{children:a.jsxs(V,{className:"select-none whitespace-nowrap",children:[a.jsx(d,{children:e("admin.redeem.code")}),a.jsx(d,{children:e("admin.redeem.quota")}),a.jsx(d,{children:e("admin.used")}),a.jsx(d,{children:e("admin.created-at")}),a.jsx(d,{children:e("admin.used-at")}),a.jsx(d,{children:e("admin.action")})]})}),a.jsx(ca,{children:(n.data||[]).map((t,p)=>a.jsxs(V,{className:"whitespace-nowrap",children:[a.jsx(r,{children:t.code}),a.jsx(r,{children:a.jsx(A,{variant:"outline",children:t.quota})}),a.jsx(r,{children:a.jsx(ka,{state:t.used})}),a.jsx(r,{children:t.created_at}),a.jsx(r,{children:t.updated_at}),a.jsxs(r,{className:"flex gap-2",children:[a.jsx(ma,{size:"icon",variant:"outline",onClick:()=>ua(t.code),children:a.jsx(xa,{className:"h-4 w-4"})}),a.jsx(va,{native:!0,tooltip:e("delete"),variant:"destructive",onClick:async()=>{const i=await Ra(t.code);pa(s,e,i,!0),i.status&&await o()},children:a.jsx(ha,{className:"h-4 w-4"})})]})]},p))})]}),a.jsx($,{current:u,total:n.total,onPageChange:h,offset:!0})]}):l?a.jsx("div",{className:"flex flex-col my-4 items-center",children:a.jsx(sa,{className:"w-6 h-6 inline-block animate-spin"})}):a.jsx("p",{className:"empty",children:e("admin.empty")}),a.jsxs("div",{className:"redeem-action",children:[a.jsx("div",{className:"grow"}),a.jsx(y,{variant:"outline",size:"icon",onClick:o,children:a.jsx(na,{className:"h-4 w-4"})}),a.jsx(he,{update:o})]})]})}function be(){const{t:e}=_();return a.jsxs("div",{className:q("user-interface",Ha&&"mobile"),children:[a.jsxs(X,{className:"admin-card",children:[a.jsx(Y,{className:"select-none",children:a.jsx(W,{children:e("admin.user")})}),a.jsx(R,{children:a.jsx(pe,{})})]}),a.jsxs(X,{className:"admin-card",children:[a.jsx(Y,{className:"select-none",children:a.jsxs(W,{className:"flex items-center",children:[e("admin.invitation-manage"),a.jsx(da,{content:e("admin.invitation-tips"),className:"ml-2 h-6 w-6 translate-y-0.5"})]})}),a.jsx(R,{children:a.jsx(me,{})})]}),a.jsxs(X,{className:"admin-card",children:[a.jsx(Y,{className:"select-none",children:a.jsxs(W,{className:"flex items-center",children:[e("admin.invitation"),a.jsx(da,{content:e("admin.redeem-tips"),className:"ml-2 h-6 w-6 translate-y-0.5"})]})}),a.jsx(R,{children:a.jsx(je,{})})]})]})}export{be as default};
